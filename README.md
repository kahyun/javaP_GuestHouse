주제 : 게스트 하우스
가이드라인
기능

핵심 기능 + 서브 기능 도출

기본적인 CRUD

설명서 → 회의 결과를 Jira에 정리

핵심 기능에 대한 설명서

서브 기능에 대한 설명서

Document 주석

협업툴

Jira : 작업 방식, 일정 관리(진행사항 시각적인 공유), 역할 분담, 표준화 코드 공지, 코드 중간점검(오류점검) 용도

GitHub : 코드 공유, 배포 용도

static 변수 / Field

재사용성 높이는 코드 설계 : Class / Abstract Class / Interface

클래스를 설계할 때, 인터페이스 / 추상 클래스 / 클래스 간 상속 관계가 나오도록

Is a / Has a 관계 명확히 사용

Class Diagram 도출

protected 접근지정자 사용

TreeSet 반환 기능 추가

알고리즘 기능 추가 ← 백준 문제에서 적용할 수 있는 거 수정해서 사용

만약 finally 구문이 필요하다면, 자바 프로젝트에서 최종적인 예외 처리 방법으로 try-with-resources 사용

설계
User

(Owner)

Employee

Customer

→ 사용자가 직원 / 고객 누구를 중심으로 하느냐 에 따라 핵심 기능이 달라질 것

핵심 기능

핵심 기능 1

서브 기능 1

핵심 기능 2

방 배정이냐 / 예약이냐… Service 클래스가 여러 개 생길 수 있다

넣어야 하는 기능

TreeSet 반환

알고리즘 사용

코드 구현
패키지명 : com.geha.xxx

250502 기능 도출
우리 핵심 기능은 예약 서비스이다!!

방 종류 남/여 별로 1/2/4인실이 있을 때

신청 방이 마감된 경우, “1인실이 마감되었습니다”

…비즈니스 로직은 아니고 예외 처리

(핵심 기능 1) 파티 서비스

(서브 기능 1) 파티 배정 기능

(서브 기능 2) 파티 배정 조회 기능

예약 시에 파티 참여 여부를 조사(투숙객이 입력)

참가비로 파티를 구분한다 → 0(참여 안 함)/3/4/5만원씩 참가비를 걷는 파티 별도로 진행

각 파티가 열릴 수 있는 인원 조건은 4명 이상 10명 이하

최소 인원(4명) 이상이 되야 파티를 열 수 있음

희망한 파티의 인원이 4명 미만일 경우

내가 신청한 참가비보다 적은 다른 파티에 빈 자리가 있으면 합류할 수 있음

다른 파티에 자리가 없다면 파티에 참여할 수 없음

희망한 파티의 인원이 10명 초과하는 경우

선착순으로 마감됨

(핵심 기능 2) 조식 서비스 => 비용 최소를 위한 그리디 알고리즘 사용

게스트하우스에서 조식을 제공

예약 시 조식 서비스 신청 여부를 조사 (투숙객이 입력)

날마다 조식 서비스를 신청한 투숙객의 수에 맞춰 최소의 가격으로 조식을 준비한다

당일 구매 / 당일 소진을 원칙으로 남은 조식은 없도록 해야 한다 ex) 샌드위치

거래 가게 예시

가게 여러개로 해도 되고 한 가게에 거래 가격 여러 개로 해도 될 것 같다..!

A 가게 4000원*1개

B 가게 3200원*10개

C 가게 3000원*15개

가격 이랑 개수는 이후에 수정 예정…임시로 설정

FoodShop이라는 VO 생성 필요

(이외 기능 1) 투숙객 만족도 조사 서비스

투숙객 예약 시 각자의 희망 항목을 조사한다 (단, 성별은 사전에 구분)

객실 배정에 반영하는 항목 : 몇 인실인지 / 잠버릇 여부 / 흡연 여부 등

예약 당시 남은 방에 따라 객실을 배정하며, 실제 방 배정에 희망 항목이 얼마나 반영되었느냐에 따라 투숙객의 만족도가 달라진다.

→ 고객 만족도 최대 방 배정 기능은 예약시 조사하는 희망 항목이 다양해질수록 알고리즘 적인 구현이 어려움. 대신 직원이 수행하는 기능으로 투숙일 별로 고객 만족도를 조사하는 서비스는 구현할 수 있음

(이외 기능 2) 예약 취소 정책 관련 서비스

250507 (1) 기능 별 시나리오 작성
전체 과정을 통틀어서 가장 중요한 작업

10~20개 사이의 각 기능에 대한 시나리오 작성

큰 기능 별로 분류하기 : 예매 / 검색 / 수정 / … 에 대한 기능

재사용 표시하기 : 재사용할 기능 먼저 정의하고 다른 기능에서 호출해서 사용

사용자 입장에서 시스템 활용 기능을 도출 / 기능별 분류 / 사용자가 하는 기능이 어떤 것들이 있는지… / 세부적인 기능의 이해…

작업의 방식, 생각의 깊이 등 중요

작업의 스타일을 빨리 익혀서 다음 프로젝트에서도 적용할 것

 

검색 성별 예약 가능한 방을 조회한다 searchAvailableRoom(char gender) : TreeSet<Room>

성별을 입력한다.

예약 가능한 방 타입 목록을 출력한다

NoRoomException 사용자 정의 예외처리

예약 방을 예약한다 makeRsv(Date rsvDate, char gender, int roomType, Guest rsvGuest, int attendFee, boolean eatBreakfast) : Reservation

예약할 날짜를 고른다.

(1 재사용) 투숙객은 성별을 입력하면 예약 가능한 방을 조회할 수 있다. (한 사람당 하나의 예약을 할 수 있다)

예약할 방 타입을 선택한다

인원 정보 를 입력한다

(선불 결제) 방 가격을 확인하고 결제한다

파티 참석 여부/조식 신청 여부를 입력한다

후불 결제에 대한 안내를 받는다

예약 번호를 반환받는다

검색 예약 내역을 조회한다 searchRsv(int rsvNum) : Reservation

예약 번호를 입력한다

전체 예약 정보를 확인할 수 있다.

수정 예약 내역을 수정한다 updateRsv(int rsvNum) : void

예약 번호를 입력한다 (3 재사용)

전체 예약 정보에서 수정할 내용을 입력한다

만약, 예약 일자를 변경한다면 (1 재사용) 빈 방이 있는지 조회한다

삭제 예약을 취소한다 deleteRsv(int rsvNum) : void

예약 번호를 입력한다 (3 재사용)

예약 취소는 예약일 전날까지만 가능하다

환불된 금액을 확인한다 (sysout 으로 환불 금액 출력)

예약 파티를 구성한다 makeParty(Date rsvDate) : void

당일 투숙객의 파티 정보를 조회한다 (전날까지 취소하지 않은 예약 정보 전체)

3/4/5만원 파티의 구성원이 4명 이상 10명 이하라면 파티룸을 배정한다

4명 미만인 파티 구성원을 재배치한다

10명 초과인 파티는 구성원을 선착순 배정한다

11~13명이 모이면 파티를 반으로 나눈다

검색 배정된 파티를 조회한다 searchParty(int rsvNum) : Party

예약 당일 배정된 파티를 조회할 수 있다

참가비를 입금한다

검색 전체 배정 파티를 조회한다 searchParty(Date rsvDate) : Party[ ] 

파티 별 인원 목록을 출력

나이 순으로 인원을 정렬한다

검색 조식 신청한 인원을 조회한다 searchBreakfastGuest(Date rsvDate) : Guest[ ] 

조식 서비스를 신청한 인원을 조회한다

이름 순으로 인원을 정렬한다

NoBreakfastException 사용자 정의 예외처리 (여기서 예외처리를 일찍 해주지 않으면 ArithmeticException 이 발생한다)

예약 조식을 준비한다 (9 재사용) makeBreakfast(Date rsvDate) : int

인원 수에 맞는 최소한의 비용을 계산한다

조식비를 입금 받는다

검색 당일 전체 예약 내역을 조회한다 searchAllRsv(Date rsvDate) : Reservation[ ] 

예약 번호와 전체 예약 정보 + 파티 참여 여부 + 조식 신청 여부 출력

검색 방 기준 예약 현황을 조회한다 (11 재사용) searchRsvCondition() : String

방을 기준으로 예약 정보 출력 (F1 1/1   F2 1/2  F4 3/4 …)

검색 월별 조식 금액의 평균가를 조회한다 searchAvgBreakfastPrice(int year, int month) : int

월별 인당 조식 금액을 합산한다

월별 평균가를 출력한다

250507 (2) 관계 도출
엔터티 도출

=> VO(Value Object) (O), Service (X)

엔터티 간의 관계 도출

Is a 상속 (Super Abstract 기능을 활용)

Has a

Class Diagram

설치가 까다롭지 않은 툴 검색해서 사용하기

기타 고려사항

static 변수 사용하기 (상수)

enum 사용할 수 있는 곳 찾으면 활용하기

UML 툴

Visual Paradigm 무료 클래스 다이어그램 도구

FigJam (Figma 에서 사용할 수 있는 다이어그램 도구)

250507 (3) 템플릿 도출
Class Diagram 그리기

기능의 Template 작성하기 (인터페이스 활용)

함수 선언부만 작성

함수명

인자값

반환 타입

예외 던지기 (어떤 예외가 필요한지) ← 생각만 하고 내일 추가

기능의 Template 에 클래스가 상속받는 함수가 다 안 들어가는 경우는 인터페이스 구현 클래스의 기능도 선언부만 작성한다!!

(2025.05.12 수정 ver.) 클래스 다이어그램

image-20250512-111608.png
250508 코드 작성
담당하는 파트 작성할 때 document 주석까지 작성 필수!!

일단 Entity 클래스는 {@code } 주석만 사용해서 어떤 클래스인지 설명한다.

Service 클래스와 ServiceImpl 클래스에서는 더 적극적으로 document 주석을 사용한다.



/**
 * <pre>
 * {@code
 * Account 클래스는 계좌 관련된 정보를 가지고 있는 클래스
 * }
 * </pre>
 * @author PSW PKH JYJ (이니셜로 표시) (동시 작업한 클래스는 나열)
 * @version project version 1.0.1 (지금은 VERSION 1.0.1로)
 * @since JDK17
 */
프로젝트 명

(250508) GitHub 연동 오류 : Java Project → GitHub Repository 연결 해야 하는데, GitHub Repository → Java Project 연결을 해서 (JRE가 없어서) 패키지를 폴더로 인식하는 오류 발생

javaP_GuestHouse 또는 javaPjt_GuestHouse

서비스 구현 클래스만 먼저 작성

추가

삭제

수정

가져오는 기능 (getA, getAll) → 대표적으로 searchRsv 하나만 작성해보기

게스트하우스 정보

성별로 1인실 3개 2인실 3개 4인실 4개 => 총 방 개수 20개, 총 수용 인원 50명

roomNum은 gender-roomType-번호 순

 

1인실

2인실

4인실

남

3 (M11, M12, M13)

3 (M21, M22, M23)

4 (M41, M42, M43, M44)

여

3 (F11, F12, F13)

3 (F21, F22, F23)

4 (F41, F42, F43, F44)

1.  Entity 클래스 작성


성우 : com.gh.rsv 클래스 5개

연정 : 나머지 클래스 5개, 예외처리 클래스 (패키지명 com.gh.exception)
2. 인터페이스 작성


성우 : SearchService 인터페이스, GehaService 인터페이스

연정 : DMLService 인터페이스
서비스 구현 클래스 작성


공통 : 싱글톤

공통 : searchAvailableRoom() 메소드(C에 재사용됨) 작성

? : C/U/D/특정R/전체R 작성

공통 : 테스트 클래스에서 switch문 기본 잡아두기(함수 이름도 정하기)
=> 05/09 메소드 작업 분배

250509 코드 작성
코드 작성할 때 Document 주석 달기!

코드 충돌 방지를 위해 branch 를 새로 파서 작업하기!

담당 파트 완료하면 Jira 페이지의 체크박스 체크 & 보드 진행 중을 완료로 이동

해야할 일

작업 진척도 파악

역할 분담

알고리즘 아이디어 개선 여부 결정 → 기존 아이디어 유지

발표를 위한 Jira 관리
협업툴

깃허브 연동 가현

Jira 작성 연정
CRUD 메소드

(예약 C) makeRsv 성우 연정

(예약 U) updateRsv 성우

(예약 D) deleteRsv 연정

(예약 특정R) searchRsv 성우

(예약 전체R) searchAllRsv 연정
비즈니스 로직 메소드

(파티 C) makeParty 가현

(조식 C) makeBreakfast 연정
R 포함 기타 메소드

(예약 가능R) searchAvailableRoom() 성우 연정

(예약 현황R) searchRsvCondition 성우

(파티 특정R) searchParty(int) 가현

(파티 전체R) searchParty(Date) 가현

(조식 R) searchBreakfastGuest 연정

(조식 알고리즘R) searchAvgBreakfastPrice 연정
Test 클래스

Test 클래스에서 switch문과 Scanner 사용 성우 연정 가현

Comparator 정렬 적용

Scanner 열고 닫을 때, finally 구문이 필요하다면 try-with-resources 사용 성우

프로그램 종료 시 전체 저장된 전체 데이터를 파일에 저장하는 기술 사용 (FileWriter/BufferedWriter 혹은 FileWriter/PrintWriter) 성우

전체 예약 현황 조회

전체 고객 현황 조회

전체 방 현황 조회

전체 파티 현황 조회

전체 조식 현황 조회
250512 코드 작성 및 작업 마무리
image-20250512-010643.png
Test 파일 실행할 시나리오 작성

어떤 데이터를 입력해야 함수의 실행 결과를 다 보여줄 수 있는지

데이터 준비 → 직접 실행해보기 

Scanner 입력받기 전에 생성해 둘 데이터 => 방 정보, 고객 정보, 예약 정보, 조식 정보
조식을 제외한 전체 조회 일자는 Date(2025,5,8)로 고정한다.
0. 전체 방 정보 조회 => 파일 저장

예약 가능한 방을 조회한다.

특정 일자의 여자 방 조회

특정 일자의 남자 방 조회

예약을 한다

정상적으로 예약이 되는 경우

1인실 방이 마감되었을 때 1인실을 예약해서 NoRoomException 예외 처리 보여주는 경우

내 예약을 조회한다 (예약번호로 예약을 조회한다)

없는 예약번호를 조회하는 경우 (32번 이내)

있는 예약번호를 조회하는 경우 (32 초과하는 숫자)

예약을 수정한다

방 정보를 수정하는 경우 (예약번호 1번 내용 수정)

new Guest("이지은", 'F', "010-1234-5678", new Date(1993,5,16));

조식을 신청하지 않았다가 신청하는 경우

예약을 삭제한다

없는 예약번호를 삭제하는 경우

있는 예약번호를 삭제해서 정상적으로 삭제되는 경우

날짜별 전체 예약을 조회한다 => 파일 저장

특정 일자(2025.05.08)의 예약 신청 현황을 조회한다 => 파일 저장

특정 예약번호로 파티 배정 여부를 조회한다

파티가 배정된 예약번호로 확인

파티가 배정되지 않은 예약번호로 확인

특정 일자(2025.05.08)의 전체 파티 목록을 조회한다

특정 일자의 조식 신청 Guest 목록을 조회한다

(2025.05.08) 조식 신청 게스트 조회 (31명 신청)

(2025.05.09) 조식 신청 게스트 조회 (신청 인원 없음)

특정 일자의 조식 가격을 조회한다

(2025.05.08) 조식 가격 조회

(2025.05.01) 조식 가격 조회

2025년 5월의 조식 평균 가격 조회

(BreakfastMap에 임의의 데이터를 사전에 저장해둬야 한다)

핵심 로직 직접 코드 설명

재사용성이 높은 searchAvailableRoom() 메소드

makeRsv() 메소드

Document html 파일

Document 주석을 보충하여 html 파일 생성

프로그램 실행 후 저장된 전체 데이터를 .txt 파일에 저장 

Java / FileWriter , FileReader , BufferedReader, BufferedWriter : 네이버 블로그

=>  try-with-resources 구문 사용하기

Jira 와 GitHub 협업툴을 어떻게 사용했는지 화면 캡쳐하여 함께 발표

250514 리팩토링 작업 부분 추출
image-20250514-065720.png
GehaServiceImpl
반환 타입을 가지고 stream 을 받아올 수 있을 때 수정한다!!

Impl-1 성우 1 2 3


image-20250514-070451.png
Impl-2 연정 1 2 3

image-20250514-071102.png
image-20250515-085010.png
Impl-3 가현 1 2 3

image-20250514-071142.png
image-20250515-105840.png
 

Impl-4 연정 1 2 3

image-20250514-071344.png
image-20250515-084854.png
GehaServiceTest
Test-1 가현 1 2

image-20250514-073945.png
image-20250515-084710.png
 Test-2 성우 3

image-20250514-074103.png
Test-3 연정 3

image-20250514-074140.png
image-20250515-085054.png
Test-4 성우 1 2

image-20250514-074218.png
Test-5 가현 3

image-20250514-074243.png
image-20250515-105216.png
Test-6 연정 3

image-20250514-074319.png
image-20250515-085128.png
 
